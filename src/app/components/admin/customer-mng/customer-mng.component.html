<div class="flex items-center justify-between px-6 py-3 bg-white border-b">
    <div class="flex items-center">
        <h1 class="text-xl font-semibold text-gray-800">Customer Management</h1>
    </div>
</div>
<!-- Tabs -->
<div class="bg-white border-b">
    <div class="px-6 flex">
        <button class="tab-button px-4 py-3 text-sm active font-medium text-primary" (click)="showTab('overview')"
            id="overview">Overview</button>
        <button class="tab-button px-4 py-3 text-sm text-gray-500" (click)="showTab('settings')"
            id="settings">Settings</button>
    </div>
</div>

<!-- main content -->
<main class="flex-1 overflow-y-auto p-6 custom-scrollbar">
    <!-- overview content -->
    <div id="tab-overview" class="tab-content bg-white rounded shadow mb-6  rounded-lg">
        <div class="p-4 flex justify-between items-center">
            <h2 class="text-lg font-medium">Customer Management</h2>
            <div class="flex items-center space-x-3">
                <button
                    class="flex items-center px-3 py-2 border border-gray-300 rounded-button text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 whitespace-nowrap">
                    <div class="w-4 h-4 mr-2 flex items-center justify-center">
                        <i class="ri-download-2-line"></i>
                    </div> Export Data
                </button>
                <button (click)="toggleForm('create-customer')" id="newSchemaBtn"
                    class="flex items-center px-3 py-2 bg-primary text-white rounded-button text-sm font-medium hover:bg-opacity-90 whitespace-nowrap">
                    <div class="w-4 h-4 mr-2 flex items-center justify-center">
                        <i class="ri-add-line"></i>
                    </div> New customer
                </button>
            </div>
        </div>

        <!-- Filters -->
        <header class="bg-white shadow-sm z-10">
            <div class="px-6 py-3 bg-white border-t border-b flex flex-wrap items-center gap-3">
                <div class="flex flex-wrap gap-4">
                    <div class="w-full sm:w-auto">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                        <div class="relative">
                            <select
                                class="block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-primary focus:border-primary rounded-lg sm:text-sm">
                                <option value="">All Statuses</option>
                                <option *ngFor="let status of statuses" [value]="status">{{status.ctsLabe}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="w-full sm:w-auto">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Country</label>
                        <div class="relative">
                            <select
                                class="block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-primary focus:border-primary rounded-lg sm:text-sm">
                                <option value="">select country</option>
                                 <option *ngFor="let country of countries" [value]="country">{{country.ctrLabe}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="w-full sm:w-auto">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Cities</label>
                        <div class="relative">
                            <select
                                class="block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-primary focus:border-primary rounded-lg sm:text-sm">
                                <option value="">select city</option>
                                <option *ngFor="let city of cities" [value]="city">{{city.ctyLabe}}</option>
                            </select>
                        </div>
                    </div>

                    <!-- Search Input -->
                    <div class="w-full sm:flex-1 sm:min-w-[300px]">
                        <label class="block text-sm font-medium text-gray-700 mb-1 sr-only">Search</label>
                        <div class="relative">
                            <input type="text" placeholder="Search Username, Email, or codes..."
                                class="pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg text-sm focus:ring-primary focus:border-primary">
                            <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                <i class="ri-search-line text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Table -->
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th scope="col"
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            <input type="checkbox">
                        </th>
                        <th scope="col"
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            <div class="flex items-center">
                                <span>customer Code</span>
                            </div>
                        </th>
                        <th scope="col"
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            <div class="flex items-center">
                                <span>Identifier</span>
                            </div>
                        </th>
                        
                        <th scope="col"
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            <div class="flex items-center">
                                <span>Username</span>
                            </div>
                        </th>
                        <th scope="col"
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            <div class="flex items-center">
                                <span>Name</span>
                            </div>
                        </th>
                        <th scope="col"
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            <div class="flex items-center">
                                <span>Status</span>
                            </div>
                        </th>
                        <th scope="col"
                            class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Actions </th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    <tr *ngFor="let customer of customers" class="hover:bg-gray-50 cursor-pointer" data-customer-id="1">
                        <td class="px-6 py-4 whitespace-nowrap">
                            <input type="checkbox">
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm font-medium text-gray-900">{{customer.cusCode}}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm text-gray-900">{{customer.cusIden}}</div>
                        </td>
                        
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm text-gray-900">{{customer.username}}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm text-gray-900">{{customer.fullName}}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full status-active">
                                {{customer.status?.ctsLabe}} </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                            <div class="flex items-center justify-end space-x-2">
                                <button (click)="toggleForm('customer-details'); selectedCustomer=customer"
                                    class="text-blue-600 hover:text-gray-500">
                                    <i class="ri-eye-line"></i>
                                </button>
                                <button class="text-green-600 hover:text-gray-500">
                                    <i class="ri-edit-line"></i>
                                </button>
                                <button (click)="deleteCustomer(customer)" class="text-red-600 hover:text-gray-500">
                                    <i class="ri-delete-bin-line"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- Pagination -->
        <div class="px-6 py-4 flex items-center justify-between border-t border-gray-200">
            <div class="flex-1 flex justify-between sm:hidden">
                <button
                    class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                    Previous </button>
                <button
                    class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                    Next </button>
            </div>
            <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                <div>
                    <p class="text-sm text-gray-700"> Showing <span class="font-medium">1</span> to <span
                            class="font-medium">5</span> of <span class="font-medium">42</span> results </p>
                </div>
                <div>
                    <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                        <button
                            class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                            <span class="sr-only">Previous</span>
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="ri-arrow-left-s-line"></i>
                            </div>
                        </button>
                        <button
                            class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">
                            1 </button>
                        <button
                            class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-primary text-sm font-medium text-white">
                            2 </button>
                        <button
                            class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">
                            3 </button>
                        <span
                            class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700">
                            ... </span>
                        <button
                            class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">
                            8 </button>
                        <button
                            class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">
                            9 </button>
                        <button
                            class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                            <span class="sr-only">Next</span>
                            <div class="w-5 h-5 flex items-center justify-center">
                                <i class="ri-arrow-right-s-line"></i>
                            </div>
                        </button>
                    </nav>
                </div>
            </div>
        </div>
    </div>

    <!-- settings content -->
    <div id="tab-settings" class="tab-content hidden">
        <div class="bg-white rounded-lg shadow">
            <!-- Settings Tabs -->
            <div class="border-b border-gray-200">
                <nav class="flex -mb-px">
                    <button id="settings-status" (click)="showTab('status', 'settings')"
                        class="settings-tab-button relative px-4 py-3 text-sm active font-medium text-primary">Customer
                        Status</button>
                    <button id="settings-identityType" (click)="showTab('identityType', 'settings')"
                        class="settings-tab-button relative px-4 py-3 text-sm text-gray-500">Customer Identity
                        Type</button>
                    <button id="settings-country" (click)="showTab('country', 'settings')"
                        class="settings-tab-button relative px-4 py-3 text-sm text-gray-500">Country </button>
                    <button id="settings-city" (click)="showTab('city', 'settings')"
                        class="settings-tab-button relative px-4 py-3 text-sm text-gray-500">City </button>
                </nav>
            </div>

            <!-- Status -->
            <div id="settings-tab-status" class="settings-tab-content p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-lg font-medium text-gray-900">Customer Status Management</h3>
                    <button id="btn-add-status" (click)="toggleForm('customer-status')"
                        class="flex items-center px-3 py-2 bg-primary text-white rounded-button text-sm font-medium hover:bg-opacity-90 whitespace-nowrap">
                        <i class="ri-add-line mr-1"></i> Add Status </button>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Status Code</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Status Identifier</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Status Label</th>
                                <th scope="col"
                                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Actions</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr *ngFor="let status of statuses">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{status.ctsCode}}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{status.ctsIden}}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{status.ctsLabe}}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                    <div class="flex justify-end space-x-2">
                                        <button class="text-green-600 hover:text-gray-500">
                                            <div class="w-6 h-6 flex items-center justify-center">
                                                <i class="ri-edit-line"></i>
                                            </div>
                                        </button>
                                        <button class="text-red-600 hover:text-red-500">
                                            <div class="w-6 h-6 flex items-center justify-center">
                                                <i class="ri-delete-bin-line"></i>
                                            </div>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- IdentityType -->
            <div id="settings-tab-identityType" class="settings-tab-content hidden p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-lg font-medium text-gray-900">Identity Type Management</h3>
                    <button id="btn-add-status" (click)="toggleForm('customer-identityType')"
                        class="flex items-center px-3 py-2 bg-primary text-white rounded-button text-sm font-medium hover:bg-opacity-90 whitespace-nowrap">
                        <i class="ri-add-line mr-1"></i> Add Identity Type </button>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Code</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Status Identifier</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Label</th>
                                <th scope="col"
                                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Actions</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr *ngFor="let type of types">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{type.citCode}}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{type.citIden}}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{type.citLabe}}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                    <div class="flex justify-end space-x-2">
                                        <button class="text-green-600 hover:text-gray-500">
                                            <div class="w-6 h-6 flex items-center justify-center">
                                                <i class="ri-edit-line"></i>
                                            </div>
                                        </button>
                                        <button class="text-red-600 hover:text-red-500">
                                            <div class="w-6 h-6 flex items-center justify-center">
                                                <i class="ri-delete-bin-line"></i>
                                            </div>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- country -->
            <div id="settings-tab-country" class="settings-tab-content hidden p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-lg font-medium text-gray-900">Countries Management</h3>
                    <button id="btn-add-status" (click)="toggleForm('country')"
                        class="flex items-center px-3 py-2 bg-primary text-white rounded-button text-sm font-medium hover:bg-opacity-90 whitespace-nowrap">
                        <i class="ri-add-line mr-1"></i> Add Country </button>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Country Code</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Country Identifier</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Country Label</th>
                                <th scope="col"
                                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Actions</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr *ngFor="let country of countries">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{country.ctrCode}}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{country.ctrIden}}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{country.ctrLabe}}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                    <div class="flex justify-end space-x-2">
                                        <button class="text-green-600 hover:text-gray-500">
                                            <div class="w-6 h-6 flex items-center justify-center">
                                                <i class="ri-edit-line"></i>
                                            </div>
                                        </button>
                                        <button class="text-red-600 hover:text-red-500">
                                            <div class="w-6 h-6 flex items-center justify-center">
                                                <i class="ri-delete-bin-line"></i>
                                            </div>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- city -->
            <div id="settings-tab-city" class="settings-tab-content hidden p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-lg font-medium text-gray-900">City Management</h3>
                    <button id="btn-add-status" (click)="toggleForm('city')"
                        class="flex items-center px-3 py-2 bg-primary text-white rounded-button text-sm font-medium hover:bg-opacity-90 whitespace-nowrap">
                        <i class="ri-add-line mr-1"></i> Add City </button>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    City Code</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    City Identifier</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    City Label</th>
                                <th scope="col"
                                    class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Actions</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr *ngFor="let city of cities">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{city.ctyCode}}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{city.ctyIden}}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{city.ctyLabe}}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                    <div class="flex justify-end space-x-2">
                                        <button class="text-green-600 hover:text-gray-500">
                                            <div class="w-6 h-6 flex items-center justify-center">
                                                <i class="ri-edit-line"></i>
                                            </div>
                                        </button>
                                        <button class="text-red-600 hover:text-red-500">
                                            <div class="w-6 h-6 flex items-center justify-center">
                                                <i class="ri-delete-bin-line"></i>
                                            </div>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Modals -->
<div *ngIf="isAnyModalVisible" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ">
    <!-- customer Detail Modal -->
    <div *ngIf="isUserDetailsVisible" id="customer-detail-modal"
        class="bg-white rounded-lg shadow-xl w-full max-w-4xl h-[90vh] overflow-hidden">
        <div class="flex items-center justify-between px-6 py-4 border-b border-gray-200">
            <h3 class="text-lg font-semibold text-gray-800">Customer Details</h3>
            <button id="close-customer-detail" class="text-gray-400 hover:text-gray-500">
                <div class="w-6 h-6 flex items-center justify-center">
                    <i (click)="closeForm('customer-details')" class="ri-close-line ri-lg"></i>
                </div>
            </button>
        </div>
        <div class="p-6 custom-scrollbar" style="height: calc(90vh - 130px);">
            <div class="flex flex-col md:flex-row md:space-x-6">
                <div class="mb-6 md:mb-0 md:w-1/3">
                    <!-- customer main info -->
                    <div class="md:h-2/3 bg-gray-50 p-4 rounded-lg">
                        <div class="text-center mb-4">
                            <div
                                class="w-20 h-20 mx-auto bg-primary bg-opacity-10 rounded-full flex items-center justify-center text-primary">
                                <i class="ri-contacts-line ri-2x"></i>
                            </div>
                            <h4 class="text-lg font-semibold mt-2">{{selectedCustomer?.fullName}}</h4>
                            <p class="text-sm text-gray-500">{{selectedCustomer?.username}}</p>
                        </div>
                        <div class="mt-6 space-y-2">
                            <button
                                class="w-full px-4 py-2 bg-primary text-white rounded-button hover:bg-red-700 transition text-sm whitespace-nowrap">
                                Change Status </button>
                        </div>
                    </div>
                    <!-- Wallet Information -->
                    <div class="md:h-1/3 mt-6 bg-white p-5 rounded-lg border border-gray-100 shadow-sm">
                        <h5 class="text-sm font-semibold text-gray-700 mb-4 flex items-center">
                            <i class="ri-wallet-3-line text-gray-500 mr-2"></i>
                            Wallet Information
                        </h5>

                        <!-- <div class="flex items-center">
                            <div
                                class="w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-500">
                                <i class="ri-wallet-3-line text-xl"></i>
                            </div>

                            <div class="ml-4">
                                <div class="flex items-baseline">
                                    <span class="text-xs text-gray-600">Code: 123</span>
                                </div>

                                <div class="flex items-baseline mt-1">
                                    <span class="text-xs text-gray-600">Identifier: W-45782</span>
                                </div>

                                <div class="flex items-center mt-2">
                                    <span
                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                        Active </span>
                                </div>
                            </div>
                        </div> -->
                    </div>
                </div>
                <div class="md:w-2/3">
                    <div class="mb-6">
                        <div class="flex border-b border-gray-200">
                            <button class="details-tab-button  px-4 py-3 text-sm active font-medium text-primary"
                                id="details-basic-info" (click)="showTab('basic-info','details')"> Basic Info
                            </button>
                            <button class="details-tab-button  px-4 py-3 text-sm text-gray-500" id="details-documents"
                                (click)="showTab('documents','details')"> Documents
                            </button>
                            <button class="details-tab-button px-4 py-3 text-sm text-gray-500"
                                id="details-relationships" (click)="showTab('relationships','details')">
                                Relationships
                            </button>
                        </div>
                    </div>

                    <div class="overflow-y-auto h-[400px]">
                        <!-- basic info -->
                        <div id="details-tab-basic-info" class="details-tab-content">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <!-- Customer Information Column -->
                                <div>
                                    <h5 class="text-sm font-semibold text-gray-700 mb-4 flex items-center">
                                        <i class="ri-user-3-line text-gray-500 mr-2"></i>
                                        Customer Information
                                    </h5>

                                    <div class="space-y-4">
                                        <div class="flex items-start">
                                            <div>
                                                <label class="block text-xs text-gray-500 mb-1">Customer
                                                    Code</label>
                                                <div class="text-sm font-medium text-gray-800">{{selectedCustomer?.cusCode}}</div>
                                            </div>
                                        </div>

                                        <div class="flex items-start">
                                            <div>
                                                <label class="block text-xs text-gray-500 mb-1">Identifier</label>
                                                <div class="text-sm font-medium text-gray-800">{{selectedCustomer?.cusIden}}</div>
                                            </div>
                                        </div>

                                        <div class="flex items-start">
                                            <div>
                                                <label class="block text-xs text-gray-500 mb-1">Full Name</label>
                                                <div class="text-sm font-medium text-gray-800">{{selectedCustomer?.fullName}}</div>
                                            </div>
                                        </div>

                                        <div class="flex items-start">
                                            <div>
                                                <label class="block text-xs text-gray-500 mb-1">Username</label>
                                                <div class="text-sm font-medium text-gray-800">{{selectedCustomer?.username}}</div>
                                            </div>
                                        </div>

                                        <div class="flex items-start">
                                            <div>
                                                <label class="block text-xs text-gray-500 mb-1">Status</label>
                                                <span
                                                    class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                    {{selectedCustomer?.status?.ctsLabe}} </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Additional Details Column -->
                                <div>
                                    <h5 class="text-sm font-semibold text-gray-700 mb-4 flex items-center">
                                        <i class="ri-information-line text-gray-500 mr-2"></i>
                                        Additional Details
                                    </h5>

                                    <div class="space-y-4">
                                        <div class="flex items-start">
                                            <i class="ri-mail-line text-gray-400 text-sm mr-3 mt-0.5"></i>
                                            <div>
                                                <label class="block text-xs text-gray-500 mb-1">Email</label>
                                                <div class="text-sm font-medium text-gray-800">{{selectedCustomer?.cusMailAddress}}</div>
                                            </div>
                                        </div>

                                        <div class="flex items-start">
                                            <i class="ri-phone-line text-gray-400 text-sm mr-3 mt-0.5"></i>
                                            <div>
                                                <label class="block text-xs text-gray-500 mb-1">Phone</label>
                                                <div class="text-sm font-medium text-gray-800">{{selectedCustomer?.cusPhoneNbr}}</div>
                                            </div>
                                        </div>

                                        <div class="flex items-start">
                                            <i class="ri-map-pin-line text-gray-400 text-sm mr-3 mt-0.5"></i>
                                            <div>
                                                <label class="block text-xs text-gray-500 mb-1">Address</label>
                                                <div class="space-y-1">
                                                    <div class="text-sm font-medium text-gray-800">{{selectedCustomer?.cusAddress}}
                                                    </div>
                                                    <div class="text-sm font-medium text-gray-800">{{selectedCustomer?.city?.ctyLabe}}</div>
                                                    <div class="text-sm font-medium text-gray-800">{{selectedCustomer?.country?.ctrLabe}} </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- documents -->
                        <div id="details-tab-documents" class="details-tab-content hidden p-4">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-lg font-semibold text-gray-800">Customer Documents</h3>
                                <div class="text-xs text-gray-500">
                                    <i class="ri-lock-line mr-1"></i> Confidential Access Only
                                </div>
                            </div>

                            <!-- Document List -->
                            <div class="space-y-3">
                                <!-- Document Item 1 -->
                                <div class="document-item group flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer"
                                    (click)="previewDocument('pdf')">
                                    <div class="flex items-center">
                                        <div
                                            class="w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center text-blue-500 mr-3">
                                            <i class="ri-id-card-line"></i>
                                        </div>
                                        <div>
                                            <div class="font-medium text-gray-800">CIN</div>
                                            <div class="text-xs text-gray-500">PDF • 2.4 MB • Added 15 Jan 2023
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                        <button class="p-1 text-gray-500 hover:text-blue-500" title="Preview">
                                            <i class="ri-eye-line"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Document Item 2 -->
                                <div class="document-item group flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer"
                                    (click)="previewDocument('image')">
                                    <div class="flex items-center">
                                        <div
                                            class="w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center text-purple-500 mr-3">
                                            <i class="ri-passport-line"></i>
                                        </div>
                                        <div>
                                            <div class="font-medium text-gray-800">Passport</div>
                                            <div class="text-xs text-gray-500">PDF • 1.1 MB • Added 10 Jan 2023
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                        <button class="p-1 text-gray-500 hover:text-blue-500" title="Preview">
                                            <i class="ri-eye-line"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Document Item 3 -->
                                <div class="document-item group flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer"
                                    (click)="previewDocument('error')">
                                    <div class="flex items-center">
                                        <div
                                            class="w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center text-green-500 mr-3">
                                            <i class="ri-file-text-line"></i>
                                        </div>
                                        <div>
                                            <div class="font-medium text-gray-800">Address Proof</div>
                                            <div class="text-xs text-gray-500">PDF • 1.1 MB • Added 10 Jan 2023
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                        <button class="p-1 text-gray-500 hover:text-blue-500" title="Preview">
                                            <i class="ri-eye-line"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Document Preview Panel (hidden by default) -->
                            <div id="document-preview"
                                class="hidden mt-6 border border-gray-200 rounded-lg bg-white p-4">
                                <div class="flex justify-between items-center mb-4">
                                    <h4 id="preview-title" class="font-medium text-gray-800">Preview: File</h4>
                                    <button (click)="closePreview()" class="text-gray-500 hover:text-gray-700">
                                        <i class="ri-close-line"></i>
                                    </button>
                                </div>
                                <div class="bg-gray-50 rounded-lg p-4 min-h-[400px] flex items-center justify-center">
                                    <!-- PDF viewer or image preview would go here -->
                                    <div class="w-full h-full">
                                        <img id="image" class="hidden doc-frame top-0 left-0 w-full h-full"
                                            src="../../../../../assets/PASSPORT.jpg">
                                        <iframe id="pdf" class="hidden doc-frame top-0 left-0 w-full h-full"
                                            style="min-height: 400px;"
                                            src="../../../../../assets/Diagramme de classe G wallet.pdf"></iframe>
                                        <div id="error" class="hidden doc-frame text-center">
                                            <i class="ri-file-text-line text-4xl text-gray-300 mb-2"></i>
                                            <p class="text-gray-500">Document preview</p>
                                            <p class="text-xs text-gray-400 mt-2">Actual content would be displayed
                                                here
                                                for
                                                authorized users</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-4 text-right text-xs text-gray-500">
                                    <i class="ri-lock-line"></i> This document is confidential
                                </div>
                            </div>
                        </div>


                        <!-- relationships -->
                        <div id="details-tab-relationships" class="details-tab-content hidden">
                            <!-- <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <h5 class="text-sm font-semibold text-gray-700 mb-3">Linked Cards</h5>
                                    <div class="border border-gray-200 rounded-lg overflow-hidden">
                                        <div class="p-4 bg-gray-50 border-b border-gray-200">
                                            <div class="flex items-center">
                                                <div
                                                    class="w-10 h-10 flex items-center justify-center bg-blue-100 text-blue-500 rounded">
                                                    <i class="ri-bank-card-line"></i>
                                                </div>
                                                <div class="ml-3">
                                                    <div class="text-sm font-medium">Visa Platinum</div>
                                                    <div class="text-xs text-gray-500">**** **** **** 4582</div>
                                                </div>
                                                <div class="ml-auto">
                                                    <span
                                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                        Active </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="p-4">
                                            <div class="flex justify-between mb-2">
                                                <span class="text-xs text-gray-500">Card Holder</span>
                                                <span class="text-xs font-medium">Michael Johnson</span>
                                            </div>
                                            <div class="flex justify-between mb-2">
                                                <span class="text-xs text-gray-500">Expiry Date</span>
                                                <span class="text-xs font-medium">05/25</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-xs text-gray-500">Linked Date</span>
                                                <span class="text-xs font-medium">2023-01-15</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <h5 class="text-sm font-semibold text-gray-700 mb-3">Associated Accounts</h5>
                                    <div class="border border-gray-200 rounded-lg overflow-hidden">
                                        <div class="p-4 bg-gray-50 border-b border-gray-200">
                                            <div class="flex items-center">
                                                <div
                                                    class="w-10 h-10 flex items-center justify-center bg-green-100 text-green-500 rounded">
                                                    <i class="ri-bank-line"></i>
                                                </div>
                                                <div class="ml-3">
                                                    <div class="text-sm font-medium">Checking Account</div>
                                                    <div class="text-xs text-gray-500">AC-78542-001</div>
                                                </div>
                                                <div class="ml-auto">
                                                    <span
                                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                        Primary </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="p-4">
                                            <div class="flex justify-between mb-2">
                                                <span class="text-xs text-gray-500">Account Number</span>
                                                <span class="text-xs font-medium">**** **** 4567</span>
                                            </div>
                                            <div class="flex justify-between mb-2">
                                                <span class="text-xs text-gray-500">Bank</span>
                                                <span class="text-xs font-medium">UIB Bank</span>
                                            </div>
                                            <div class="flex justify-between">
                                                <span class="text-xs text-gray-500">Linked Date</span>
                                                <span class="text-xs font-medium">2023-01-15</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                            <div>
                                <h5 class="text-sm font-semibold text-gray-700 mb-3">Customer Relationships</h5>
                                <div class="border border-gray-200 rounded-lg overflow-hidden">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead class="bg-gray-50">
                                            <tr>
                                                <th scope="col"
                                                    class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    code </th>
                                                <th scope="col"
                                                    class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    Full Name </th>
                                                <th scope="col"
                                                    class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    email
                                                </th>
                                                <th scope="col"
                                                    class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                    Status </th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white divide-y divide-gray-200">
                                            <tr>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">
                                                    DEP-001
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-900">
                                                    Sarah Williams
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-900">
                                                    sarah.williams&#64;gmail.com
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span
                                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                        Active </span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">
                                                    DEP-001
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-900">
                                                    Sarah Williams
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-900">
                                                    sarah.williams&#64;gmail.com
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span
                                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                        Active </span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">
                                                    DEP-001
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-900">
                                                    Sarah Williams
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-900">
                                                    sarah.williams&#64;gmail.com
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span
                                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                        Active </span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500">
                                                    DEP-001
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-900">
                                                    Sarah Williams
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-900">
                                                    sarah.williams&#64;gmail.com
                                                </td>
                                                <td class="px-4 py-3 whitespace-nowrap">
                                                    <span
                                                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                        Active </span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="px-6 py-4 border-t border-gray-200 flex justify-end">
            <button (click)="closeForm('customer-details')" id="close-customer-detail-btn"
                class="px-4 py-2 border border-gray-300 text-gray-700 rounded-button hover:bg-gray-50 transition text-sm whitespace-nowrap">
                Close </button>
        </div>
    </div>

    <!-- Add Status Modal -->
    <div *ngIf="isCustomerStatusVisible" id="add-status-modal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
            <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-lg font-medium text-gray-900">Add Customer Status</h3>
                <button id="close-status-modal" (click)="closeForm('customer-status')"
                    class="text-gray-400 hover:text-gray-500">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-close-line"></i>
                    </div>
                </button>
            </div>
            <div class="p-6">
                <form (ngSubmit)="selectedStatus ? updateCustomerStatus(addStatusForm) : addCustomerStatus(addStatusForm)" #addStatusForm="ngForm"  id="add-status-form">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Status Identifier</label>
                            <input type="text"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                                placeholder="Identifier" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Status Label</label>
                            <input type="text"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                                placeholder="Label" required>
                        </div>
                    </div>
                    <div class="mt-6 flex justify-end space-x-3">
                        <button type="button" (click)="closeForm('customer-status')" id="cancel-add-status"
                            class="px-4 py-2 border border-gray-300 rounded-button text-gray-700 bg-white hover:bg-gray-50 whitespace-nowrap">Cancel</button>
                        <button type="submit"
                            class="px-4 py-2 bg-primary text-white rounded-button hover:bg-red-700 whitespace-nowrap">Add
                            Status</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Identity Type Modal -->
    <div *ngIf="isCustomerIdentityTypeVisible" id="add-identityType-modal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
            <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-lg font-medium text-gray-900">Add Identity Type Status</h3>
                <button id="close-status-modal" (click)="closeForm('customer-identityType')"
                    class="text-gray-400 hover:text-gray-500">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-close-line"></i>
                    </div>
                </button>
            </div>
            <div class="p-6">
                <form id="add-status-form">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Identity Type Identifier</label>
                            <input type="text"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                                placeholder="Identifier" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Identity Type Label</label>
                            <input type="text"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                                placeholder="Label" required>
                        </div>
                    </div>
                    <div class="mt-6 flex justify-end space-x-3">
                        <button type="button" (click)="closeForm('customer-identityType')" id="cancel-add-status"
                            class="px-4 py-2 border border-gray-300 rounded-button text-gray-700 bg-white hover:bg-gray-50 whitespace-nowrap">Cancel</button>
                        <button type="submit"
                            class="px-4 py-2 bg-primary text-white rounded-button hover:bg-red-700 whitespace-nowrap">Add
                            Identity Type</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Country Modal -->
    <div *ngIf="isCountryVisible" id="add-country-modal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
            <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-lg font-medium text-gray-900">Add Country</h3>
                <button id="close-status-modal" (click)="closeForm('country')"
                    class="text-gray-400 hover:text-gray-500">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-close-line"></i>
                    </div>
                </button>
            </div>
            <div class="p-6">
                <form id="add-status-form">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Country Identifier</label>
                                
                            <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" [(ngModel)]="countries" name="country" required="">
                                <option *ngFor="let ctrIden of countryIdens" [ngValue]="ctrIden">{{ ctrIden }}</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Country Label</label>
                            
                            <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" [(ngModel)]="countries" name="ctrLabe" required="">
                                <option *ngFor="let ctrLabe of countryLabels" [ngValue]="ctrLabe">{{ ctrLabe }}</option>
                            </select>
                        </div>
                    </div>
                    <div class="mt-6 flex justify-end space-x-3">
                        <button type="button" (click)="closeForm('country')" id="cancel-add-status"
                            class="px-4 py-2 border border-gray-300 rounded-button text-gray-700 bg-white hover:bg-gray-50 whitespace-nowrap">Cancel</button>
                        <button type="submit"
                            class="px-4 py-2 bg-primary text-white rounded-button hover:bg-red-700 whitespace-nowrap">Add
                            Country</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add City Modal -->
    <div *ngIf="isCityVisible" id="add-city-modal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
            <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-lg font-medium text-gray-900">Add City</h3>
                <button id="close-status-modal" (click)="closeForm('city')" class="text-gray-400 hover:text-gray-500">
                    <div class="w-6 h-6 flex items-center justify-center">
                        <i class="ri-close-line"></i>
                    </div>
                </button>
            </div>
            <div class="p-6">
                <form id="add-status-form">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">City Identifier</label>
                            <input type="text"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                                placeholder="Identifier" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">City Label</label>
                            <input type="text"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                                placeholder="Label" required>
                        </div>
                    </div>
                    <div class="mt-6 flex justify-end space-x-3">
                        <button type="button" (click)="closeForm('city')" id="cancel-add-status"
                            class="px-4 py-2 border border-gray-300 rounded-button text-gray-700 bg-white hover:bg-gray-50 whitespace-nowrap">Cancel</button>
                        <button type="submit"
                            class="px-4 py-2 bg-primary text-white rounded-button hover:bg-red-700 whitespace-nowrap">Add
                            City</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>